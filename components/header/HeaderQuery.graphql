query MainMenuQuery {
  # TODO: one level up, nice and specific, theme-independent, and can be used
  # for header and footer menu queries:
  # menu(id: "main", idType: NAME) { menuItems }
  menuItems(where: { location: PRIMARY, parentId: "" }) {
    nodes {
      ...MenuBits
      childItems {
        nodes {
          ...MenuBits
        }
      }
    }
  }
  logo: nodeByUri(uri: "/") {
    ... on Page {
      siteWideSettings {
        logo {
          sourceUrl
        }
      }
    }
  }
}

fragment MenuBits on MenuItem {
  label
  path
  parentId
}
